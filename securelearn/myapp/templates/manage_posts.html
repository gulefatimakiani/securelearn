{% extends "base/base.html" %}

{% block title %}
   manage posts
{% endblock %}


{% block content %}
{% include "base/second_navbar.html" %}

   <style>
      .card {
  background-color: #fff;
  border-radius: 10px;
  border: none;
  position: relative;
  margin-bottom: 30px;
  box-shadow: 0 0.46875rem 2.1875rem rgba(90,97,105,0.1), 0 0.9375rem 1.40625rem rgba(90,97,105,0.1), 0 0.25rem 0.53125rem rgba(90,97,105,0.12), 0 0.125rem 0.1875rem rgba(90,97,105,0.1);
}
.l-bg-cherry {
  background: linear-gradient(to right, #493240, #f09) !important;
  color: #fff;
}


   </style>

<!-- This section shows the total number of tutorials posted and the total number of users -->
<div class="container pt-5">
   <div class="row ">
       <div class="col-xl-6 col-lg-6">
           <div class="card l-bg-cherry">
               <div class="card-statistic-3 p-4">
                  
                   <div class="mb-4">
                       <h5 class="card-title mb-0">Total Tutorials Posted</h5>
                   </div>
                   <div class="row align-items-center mb-2 d-flex">
                       <div class="col-8">
                           <h2 class="d-flex align-items-center mb-0">
                              {{ posts_count }} 
                           </h2>
                       </div>
                   </div>
                   <div class="progress mt-1 " data-height="8" style="height: 8px;">
                       <div class="progress-bar l-bg-cyan" role="progressbar" data-width="25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" style="width: 25%;"></div>
                   </div>
               </div>
           </div>
       </div>
       <div class="col-xl-6 col-lg-6">
         <div class="card l-bg-cherry">
             <div class="card-statistic-3 p-4">
                 
                 <div class="mb-4">
                     <h5 class="card-title mb-0">Total WebApp Users</h5>
                 </div>
                 <div class="row align-items-center mb-2 d-flex">
                     <div class="col-8">
                         <h2 class="d-flex align-items-center mb-0">
                           {{ users }}
                         </h2>
                     </div>
                    
                 </div>
                 <div class="progress mt-1 " data-height="8" style="height: 8px;">
                     <div class="progress-bar l-bg-cyan" role="progressbar" data-width="25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" style="width: 25%;"></div>
                 </div>
             </div>
         </div>
     </div>
       
       

   </div>
</div>

  
 

<!-- This section provides an Admin User to add/update/delete tutorials -->
   
<div class = "container pt-5"> 

   <div class="card card-body">
      <a class = "btn btn-primary" href = "create_tutorial/">Create a new tutorial</a>
      <section class="intro pt-5">
         <div class="bg-image h-100" style="background-color: #f5f7fa;">
           <div class="mask d-flex align-items-center h-100">
             <div class="container">
               <div class="row justify-content-center">
                 <div class="col-12">
                   <div class="card shadow-2-strong">
                     <div class="card-body p-0">
                       <div class="table-responsive table-scroll" data-mdb-perfect-scrollbar="true" style="position: relative; height: 700px">
                         <table class="table table-dark mb-0">
                           <thead style="background-color: #393939;">
                             <tr class="text-uppercase text-success">
                               <th scope="col">Tutorial Title</th>
                               <th scope="col">Author Name</th>
                               <th scope="col">Date</th>
                               <th scope="col">Update</th>
                               <th scope="col">Remove</th>
                             </tr>
                           </thead>
                           <tbody>
                              {% for post in post %}
                                 <tr>
                                    <td>{{ post.title }}</td>
                                    <td>{{ post.author }}</td>
                                    <td>{{ post.created_at}}</td>
                                    <td><a class = "btn btn-primary" href = "update_tutorial/{{ post.slug }}">Update</a></td>
                                    <td><a class = "btn btn-danger" href = "delete_tutorial/{{ post.slug }}">Delete</a></td>
                                 </tr>
                              {% endfor %}
                           </tbody>
                         </table>
                       </div>
                     </div>
                   </div>
                 </div>
               </div>
             </div>
           </div>
         </div>
       </section>
   </div>
</div>
   

   
{% endblock %}